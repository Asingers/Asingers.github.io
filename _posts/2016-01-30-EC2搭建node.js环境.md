---
layout: post
title: "AWS EC2搭建node.js环境"
subtitle: "日常搞机,你或许需要"
date: 2016-01-30 11:20:20
author: "Asingers"
header-img: "http://7xqmgj.com1.z0.glb.clouddn.com/header_imgWallions3743.png"

tags:
    - AWS
    - EC2
    - VPN
---
## 目录

**搭建node前的准备**


默认的liunx中不会吧所有工具都装好，一些基本的工具，需要我们自己装。

以下：

a.make

b.gcc++


c.curl


d.git


一句话安装：




    sudo yum install gcc-c++ openssl-devel make curl git




**安装node**



    wget http://nodejs.org/dist/node-v0.4.12.tar.gz
    tar -xvf node-v0.4.12.tar.gz
    cd node-v0.4.12
    ./configure
    make





由于是在云里跑的，所以make可能会花上30多分钟， 我出去吃了个中饭，回办公室发现好了的。所以，不用在屏幕前傻等，出去走走，预防一下颈椎病。




    make install





其他调整，由于EC2中path的问题，node装完了不一定能直接跑。所以有时候需要做些映射。




    sudo ln -s /usr/local/bin/node /usr/bin/node
    sudo ln -s /usr/local/lib/node /usr/lib/node
    sudo ln -s /usr/local/bin/npm /usr/bin/npm
    sudo ln -s /usr/local/bin/node-waf /usr/bin/node-waf



### 安装npm: 
	sudo yum install nodejs npm --enablerepo=epel
	
**测试第一个静态文件服务**


先在/home/ec2-user/上建个nodeweb目录，里面放静态页面，然后可以测试了～～

### 另外:

LINUX VPS没有ROOT权限是很难受的事，并且密码登陆也方便一些。
我的AWS VPS的LINUX版本是UBUNTU 13.10，首先用AWS证书验证的账户登录，


1、修改ROOT密码
sudo passwd root

2、sudo chmod 777 /etc/ssh/sshd_config
用完再把权限改回来


3、vi /etc/ssh/sshd_config

	PermitRootLogin
改为

	PermitRootLogin yes				
		
	PasswordAuthentication no
上面的no为yes


	UsePAM yes
	
上面的yes改为no

4、重启AWS VPS，就可以使用root正常登陆了